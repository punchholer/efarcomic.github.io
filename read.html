<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>WebComic</title>
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all">
    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
     <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-waa67R2WJ4PmFJUHFLkSm8Q0iXC3m63mgIDlfvksOTELuk9JbiF7pfoR8eC4ZczuRrelL9tkAyyZ0ssAJH2sRA==" crossorigin="anonymous" />
  </head>
  <body>

  <!-- most of the elements on these pages are defined in the js files as functions, then we tell these functions where to show up on the page by placing empty divs and naming those divs the name of the js functions. check the js files to edit these elements in more detail.-->

  <div align="center">
    <!-- header that has the logo image and top page navigation. don't forget to put this on every page -->
    <div class="writeHeader"></div>
     <div id="mobile-menu-icon" class="mobile-menu-icon">&#9776;</div>

    <!-- make sure that if you want to turn on automatically scrolling to the top of the comic when you load a new page, keep the id of this div and the variable "navScrollTo" in showcomic.js the same-->
    <div id="showComic">
        
        
    <!-- write the title of the page. -->
    <div id="pageTitle">
    <!-- write page title -->
      <div class="writePageTitle"></div>
    </div>
      <!-- write the current page of your comic -->
    <div class="writePageClickable"></div>
    <!-- write bottom navigation -->
    <div class="writeNav"></div>
        
    <div>
    <select id="page-dropdown"></select>
    </div>
    </div>    
  <div id="authorNotes">
    <h2>Author Notes</h2>
    <!-- write the author notes for the current page-->
    <div class="writeAuthorNotes"></div>
  </div>
        
<!-- begin wwww.htmlcommentbox.com -->
 <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">Comment Form</a> is loading comments...</div>
 <link rel="stylesheet" type="text/css" href="https://www.htmlcommentbox.com/static/skins/bootstrap/twitter-bootstrap.css?v=0" />
 <script type="text/javascript" id="hcb"> /*<!--*/ if(!window.hcb_user){hcb_user={};} (function(){var s=document.createElement("script"), l=hcb_user.PAGE || (""+window.location).replace(/'/g,"%27"), h="https://www.htmlcommentbox.com";s.setAttribute("type","text/javascript");s.setAttribute("src", h+"/jread?page="+encodeURIComponent(l).replace("+","%2B")+"&mod=%241%24wq1rdBcg%249WOcOa3Kh90LnPrW1VTwT."+"&opts=16798&num=10&ts=1701958660808");if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})(); /*-->*/ </script>
<!-- end www.htmlcommentbox.com -->
        
<!-- footer that has a link back to rarebit, and ideally has copyright info and stuff. again, don't forget to put this on every page-->
<div class="writeFooter"></div>

  <!-- really important- every js script is called here, be sure to always put them just before the closing body tag, use a defer attribute, and call them in this specific order.-->
    <script src="js/comic_settings.js" defer></script>
    <script src="js/comic_show.js" defer></script>
    <script src="js/comic_header.js" defer></script>
    <script src="js/comic_footer.js" defer></script>
    <script>
        // Function to handle dropdown menu change
        function handleDropdownChange() {
            const selectedPage = document.getElementById('page-dropdown').value;
            window.location.href = `index.html?pg=${selectedPage}#showComic`;
        }

        // Function to populate the dropdown menu with all pages
        function populateDropdown(maxPages) {
            const dropdown = document.getElementById('page-dropdown');

            // Clear existing options
            dropdown.innerHTML = '';

            let currentChapter = null;

            const randomOption = document.createElement('option');
            randomOption.value = 'random';
            randomOption.text = 'Random Page';
            dropdown.appendChild(randomOption);

            for (let i = 1; i <= maxPages; i++) {
                const option = document.createElement('option');

                // Check if there is chapter information for the current page
                if (pgData.length >= i && pgData[i - 1].chapter) {
                    // If the chapter changes, create a new optgroup
                    if (pgData[i - 1].chapter !== currentChapter) {
                        currentChapter = pgData[i - 1].chapter;
                        const optgroup = document.createElement('optgroup');
                        optgroup.label = `Chapter ${currentChapter}`;
                        dropdown.appendChild(optgroup);
                    }
                    option.value = i;
                    option.text = `${pgData[i - 1].title}`;
                } else {
                    // If there is no chapter information, use a default label
                    option.value = i;
                    option.text = `Page ${i}`;
                }

                dropdown.appendChild(option);
            }

            // Set the selected option to the current page
            dropdown.value = pg;

            // Set an event listener for dropdown change
            dropdown.addEventListener('change', handleDropdownChange);
        }

        // Call the function to populate the dropdown when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Assuming you have a variable maxpg that represents the total number of pages
            const maxPages = maxpg; // Replace with the actual variable name or value

            // Call the function to populate the dropdown with all pages
            populateDropdown(maxPages);
        });
        </script>



  </body>
</html>